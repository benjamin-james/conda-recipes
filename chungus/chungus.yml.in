channels:
  - @TORCH_CHANNEL@
  - conda-forge
  - bioconda
  @NVIDIA_CHANNEL@

dependencies:
  - conda-forge::mamba
  - conda-forge::python==3.11
  - conda-forge::r-base==4.3.* ### TODO Change when BioC 3.20 releases October 30
 ### numerical
  - conda-forge::cython
  - conda-forge::numba
  - conda-forge::cairo
  - conda-forge::numpy<2
  - conda-forge::scipy
  - conda-forge::scikit-learn
  - conda-forge::matplotlib<3.8.0
  ### compression/storage
  - conda-forge::zstd
  - conda-forge::zlib
  - conda-forge::pigz
  - conda-forge::hdf5
  - conda-forge::git
  - conda-forge::h5py
  - conda-forge::hdf5plugin
  - conda-forge::arrow-cpp
  ### scientific
  - conda-forge::igraph
  - conda-forge::gsl
  - conda-forge::armadillo
  - conda-forge::eigen
  ### build
  - conda-forge::cmake
  - conda-forge::scikit-build
  - conda-forge::ninja
  - conda-forge::pybind11
  - conda-forge::pkg-config
  - conda-forge::autoconf
  - conda-forge::automake
  - conda-forge::libtool
  ### gl
  - conda-forge::opencv=*=*headless*
  ### gnu
  - conda-forge::binutils
  - conda-forge::coreutils
  - conda-forge::gawk
  - conda-forge::sed
  ### libraries
  - conda-forge::valgrind
  - conda-forge::gdb
  - conda-forge::tbb
  ### general
  - conda-forge::boost-cpp
  ### compilers
  - conda-forge::cxx-compiler
  - conda-forge::c-compiler
  - conda-forge::fortran-compiler
  - conda-forge::openjdk
  ## extra
  - conda-forge::highfive
  - conda-forge::dlib
  - conda-forge::doxygen
  - conda-forge::yaml-cpp
  - conda-forge::suitesparse
  - conda-forge::nmslib
  ## languages
  - conda-forge::r-base
  - conda-forge::perl
  - conda-forge::rust
  - conda-forge::juliaup
  - conda-forge::octave
  - conda-forge::go
  - conda-forge::sbcl
  - conda-forge::guile
  ## jupyter
  - conda-forge::jupyterlab
  - conda-forge::nbconvert
  - conda-forge::nbsphinx
  - conda-forge::pandoc
  - conda-forge::r-irkernel
  - conda-forge::octave_kernel
  - conda-forge::xeus-cling
  ## python
  - conda-forge::seaborn
  - conda-forge::plotnine
  - conda-forge::statsmodels
  - conda-forge::xlsxwriter
  - conda-forge::fastparquet
  - conda-forge::py-opencv 
  - conda-forge::scikit-misc
  - conda-forge::scikit-posthocs
  - conda-forge::editdistance
  - conda-forge::nilearn
  #- conda-forge::tabulate==0.7.5 ## skggm
  ## julia
  - conda-forge::pyjulia
  - conda-forge::r-juliacall
  ## assorted
  - conda-forge::bdbag
  - conda-forge::pytables
  - conda-forge::natsort
  - conda-forge::boltons
  - conda-forge::polars
  - conda-forge::kneed
  - conda-forge::adjusttext
  ## testing
  - conda-forge::pytest
  - conda-forge::coverage
  - conda-forge::pylint
  - conda-forge::python-lsp-server
  - conda-forge::fire
  ## R 
  - conda-forge::r-devtools
  - conda-forge::r-matrix
  - conda-forge::r-tidyverse
  - conda-forge::r-irlba
  - conda-forge::r-rspectra
  - conda-forge::r-openxlsx
  - conda-forge::r-seriation
  - conda-forge::r-gridextra
  - conda-forge::r-pryr
  - conda-forge::r-optparse
  - conda-forge::r-cairo
  - conda-forge::r-hdf5r
  - conda-forge::r-knitr
  - conda-forge::r-rmarkdown
  - conda-forge::r-pkgdown
  - conda-forge::r-usethis
  - conda-forge::r-tinytest
  - conda-forge::r-covr
  - conda-forge::r-testthat
  - conda-forge::r-microbenchmark
  ##
  - conda-forge::r-rcpp
  - conda-forge::r-rcppeigen
  - conda-forge::r-rcpparmadillo
  - conda-forge::r-rcppannoy
  - conda-forge::r-nmslibr
  - conda-forge::r-rcpphnsw
  - conda-forge::r-rcppml
  - conda-forge::r-rcppziggurat
  - conda-forge::r-rcppprogress
  - conda-forge::r-rcppparallel
  - conda-forge::r-rcppgsl
  ##
  - conda-forge::r-filelock
  - conda-forge::r-circlize
  - conda-forge::r-nloptr
  - conda-forge::r-nlme
  - conda-forge::r-lme4
  - conda-forge::r-sandwich
  - conda-forge::r-lmtest
  - conda-forge::r-mass
  - conda-forge::r-rfast
  - conda-forge::r-trust
  - conda-forge::r-lfe
  - conda-forge::r-aer
  - conda-forge::r-ivreg
  - conda-forge::r-plm
  - conda-forge::r-pim
  - conda-forge::r-msm
  - conda-forge::r-rrcov
  - conda-forge::r-littler
  - conda-forge::r-tidybayes
  - conda-forge::r-rstan
  - conda-forge::r-brms
  ## plotting
  - conda-forge::r-ggpubr
  - conda-forge::r-ggrastr
  - conda-forge::r-ggrepel
  - conda-forge::r-ggtext
  - conda-forge::r-ggsci
  - conda-forge::r-ggeffects
  - conda-forge::r-ggbeeswarm
  - conda-forge::r-ggupset
  - conda-forge::r-upsetr
  - conda-forge::r-cowplot
  - conda-forge::r-patchwork
  - conda-forge::r-rgl
  - conda-forge::r-lattice
  - conda-forge::r-paletteer
  ## ml
  - conda-forge::r-caret
  - conda-forge::r-glmnet
  - conda-forge::r-rmagic
  - conda-forge::r-leiden
  - conda-forge::r-glasso
  - conda-forge::r-pracma
  - conda-forge::r-precrec
  - conda-forge::r-vgam
  - conda-forge::r-shiny
  - conda-forge::r-dendextend
  - conda-forge::r-roxygen2>=7.2.0
  - conda-forge::r-uwot
  - conda-forge::r-rtsne
  - conda-forge::r-igraph
  - conda-forge::r-pls
  - conda-forge::r-spls
  - conda-forge::r-plsdof
  ## archr
  - conda-forge::r-rhandsontable
  - conda-forge::r-shinythemes
  ## misc
  - conda-forge::libudunits2
  - conda-forge::r-units
  - conda-forge::r-sf
  - conda-forge::r-spdep
  ## network
  - conda-forge::networkx
  - conda-forge::python-infomap
  - conda-forge::leidenalg
  - conda-forge::umap-learn
  - conda-forge::fa2
  - conda-forge::python-annoy
  - conda-forge::graphtools
  - conda-forge::graph-tool
  ## bioc
  - r-biocmanager
  - conda-forge::r-homologene
  - bioconda::bioconductor-singlecellexperiment
  - bioconda::bioconductor-multiassayexperiment
  - bioconda::bioconductor-treesummarizedexperiment
  - bioconda::bioconductor-hicexperiment 
  - bioconda::bioconductor-graph
  - bioconda::bioconductor-delayedarray
  - bioconda::bioconductor-delayedmatrixstats
  - bioconda::bioconductor-biocgenerics
  - bioconda::bioconductor-biocparallel
  - bioconda::bioconductor-rhtslib
  - bioconda::bioconductor-rsamtools
  - bioconda::bioconductor-rsubread
  - bioconda::bioconductor-rhdf5
  - bioconda::bioconductor-rhdf5filters
  - bioconda::bioconductor-complexheatmap
  - bioconda::bioconductor-genomicfeatures
  - bioconda::bioconductor-rtracklayer
  - bioconda::bioconductor-motifmatchr
  - bioconda::bioconductor-tfbstools
  - bioconda::bioconductor-jaspar2024
  - bioconda::bioconductor-chromvar
  - bioconda::bioconductor-annotationdbi
  - bioconda::bioconductor-go.db
  - bioconda::bioconductor-do.db
  - bioconda::bioconductor-org.hs.eg.db
  - bioconda::bioconductor-org.mm.eg.db
  - bioconda::bioconductor-genomeinfodb
  - bioconda::bioconductor-genomeinfodbdata
  - bioconda::bioconductor-scran
  - bioconda::bioconductor-scater
  - bioconda::bioconductor-bsgenome
  - bioconda::bioconductor-bsgenome.hsapiens.ucsc.hg38
  - bioconda::bioconductor-bsgenome.hsapiens.ucsc.hg19
  - bioconda::bioconductor-bsgenome.mmusculus.ucsc.mm39
  - bioconda::bioconductor-bsgenome.mmusculus.ucsc.mm10
  - bioconda::bioconductor-txdb.hsapiens.ucsc.hg38.knowngene
  - bioconda::bioconductor-txdb.hsapiens.ucsc.hg19.knowngene
  - bioconda::bioconductor-txdb.mmusculus.ucsc.mm39.knowngene
  - bioconda::bioconductor-txdb.mmusculus.ucsc.mm10.knowngene
  - bioconda::bioconductor-ensdb.hsapiens.v86
  - bioconda::bioconductor-rgreat
  - bioconda::bioconductor-clusterprofiler
  - bioconda::bioconductor-variantannotation
  - bioconda::bioconductor-gviz
  - bioconda::bioconductor-geoquery
  - bioconda::bioconductor-affyio
  - bioconda::bioconductor-xvector
  - bioconda::bioconductor-rols
  - bioconda::bioconductor-keggrest
  - bioconda::bioconductor-stringdb
  - bioconda::bioconductor-gsva
  - bioconda::bioconductor-gsvadata
  - bioconda::bioconductor-rdgidb
  - bioconda::bioconductor-reactome.db
  - bioconda::bioconductor-reactomepa
  - bioconda::bioconductor-mirbase.db
  - bioconda::bioconductor-milor
  - bioconda::bioconductor-scdesign3
  - bioconda::bioconductor-ropls
  - bioconda::bioconductor-gpls
  - bioconda::bioconductor-tradeseq
  ## deg
  - bioconda::bioconductor-deseq2
  - bioconda::bioconductor-ruvseq
  - bioconda::bioconductor-limma
  - bioconda::bioconductor-variancePartition
  - bioconda::bioconductor-sva
  - bioconda::bioconductor-edger
  - bioconda::bioconductor-mast
  - bioconda::bioconductor-glmgampoi
  - bioconda::bioconductor-ggbio
  ## bioconda
  - bioconda::igv
  - bioconda::samtools
  - bioconda::htslib
  - bioconda::bedtools
  - bioconda::gffread
  - bioconda::liftoff
  - bioconda::bioawk
  - bioconda::bcftools
  - bioconda::kallisto
  - bioconda::bustools  
  - bioconda::subread
  - bioconda::picard
  - bioconda::chip-r
  - bioconda::star
  - bioconda::alevin-fry
  - bioconda::snakemake
  - bioconda::nextflow>=24.04.4
  - bioconda::nf-core>=2.14.1
  - bioconda::plink
  - bioconda::plink2
  - bioconda::perl-bioperl
  - bioconda::sinto ## requires pysam
  - bioconda::cromwell
  #- bioconda::caper ## TODO check if py311 builds are available
  - bioconda::ucsc-bedgraphtobigwig
  - bioconda::deeptools
  - bioconda::pybigwig
  # - bioconda::snapatac2 ## TODO Wait for 3.11 ABI (or pip!)
  ##- bioconda::meme ## TODO icu error
  - bioconda::homer
  - bioconda::macs3
  ## r
  - bioconda::r-harmony
  - bioconda::r-signac>=1.12.0
  - conda-forge::r-seurat>=5.0.0
  - conda-forge::r-seuratobject>=5.0.0
  #- bioconda::r-monocle3 ## requires 4.2
  - bioconda::r-liger
  #- bioconda::scprep ## 3.11 build not working with pandas
  ## igv
  #- bioconda::bioconductor-igvr ##old r (<3.7) required
  - bioconda::igv-reports
  - bioconda::pysam
  - bioconda::igvtools
  ## other
  #- bioconda::pydnase ## error: py<11 required
  ## scverse
  - conda-forge::anndata>=0.10.8
  - conda-forge::scanpy>=1.10.2
  - conda-forge::muon>=0.1.6
  - conda-forge::squidpy
  - conda-forge::spatialdata
  - conda-forge::napari-spatialdata
  - conda-forge::spatialdata-io
  - conda-forge::spatialdata-plot
  #  - bioconda::mnnpy ## needs 3.10 
  - bioconda::celltypist
  - conda-forge::scvelo
  - conda-forge::bamnostic
  - conda-forge::schist
  - bioconda::velocyto.py
  - bioconda::scrublet
  - bioconda::harmonypy
  - bioconda::bbknn
  - bioconda::multivelo
  - bioconda::magic-impute
  - bioconda::macs2
  ## python
  - bioconda::pyranges
  - bioconda::pybedtools
  - bioconda::pysam
  - bioconda::pytabix
  - bioconda::pybiomart
  - bioconda::gtfparse
  - bioconda::pyjaspar
  - bioconda::pyfaidx
  - bioconda::logomaker
  ##- bioconda::kb-python ### TODO reinstall when uses more modern pandas 
  - conda-forge::py-bgzip
  - conda-forge::scvi-tools
  - conda-forge::stardist
  - conda-forge::apricot-select
  - conda-forge::pomegranate
  ## deep learning
  - conda-forge::keras>=3.0.0
  - conda-forge::transformers
  - conda-forge::einops
  @PYTORCH_VERSION@
  - @TORCH_CHANNEL@::torchvision
  @TORCHAUDIO_VERSION@
  @PYXGB_VERSION@
  @FAISS_VERSION@
  @TENSORFLOW_VERSION@
  - conda-forge::tensorflow
  - conda-forge::pip
  - pip:
    - symphonypy
    - igv-notebook
    - pychromvar
    - scikit-network
    - tangermeme
    - pymemesuite
    - bin2cell
    - qc2tsv
    - caper
    - croo ### once caper gets 3.11 move back
    # - skggm ## TODO fix tabulate 
    - scdrs==1.0.2 
    - git+https://github.com/jmschrei/bpnet-lite
    - git+https://github.com/CostaLab/scopen ### pip link doesn't work
    - git+https://github.com/FinucaneLab/fine-mapping-inf#subdirectory=susieinf
    - git+https://github.com/FinucaneLab/fine-mapping-inf#subdirectory=finemapinf